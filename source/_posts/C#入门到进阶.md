---
title: C#入门到进阶
date: 2024-4-19
index_img: "/img/bg/xt1.png"
tags: [C#]
categories: 
   -[C#]
---

记录C#语法学习，以及进阶知识
<!-- more -->

# 语法

## 代码折叠

使用如下写法可以将代码包裹住的代码折叠，原理是只在编辑器有效，编译时会去掉；
```csharp
#region MyRegion
#endregion
```

## 变量

![](/article_img/2024-04-19-16-03-10.png)

大多都与C++类似，一些不常见的：
1. sbyte（有符号整数，且范围在-128~127），**一个字节（1 byte）**
2. btye（无符号整数，且范围在0~255）
3. short（有符号整数），**两个字节（2 byte）**
4. decimal（一个非常大的浮点数），**16 byte**，float（4byte），double（8byte）
5. char **两个字节！！！**

### 赋值
```csharp
float f = 0.1f; // 要在最后加f，否则默认浮点数是double类型，会报错，不能将大范围隐式转换为小范围
decimal de = 0.1m; // 同理
```

### 命名规则

命名规则和C++一样，大小写敏感，这里记录一下两种常用的命名规范：
1. 驼峰：首字母小写，之后大写，一般变量用；
2. 帕斯卡：都大写，类和函数用；

## 类型转换

### 隐式转换

1. 大类型中互相转换：**大范围装小范围**，但是decimal不能用隐式转换的形式存储double和float；
2. 有符号和无符号互相转换：**无符号不能装有符号**，**有符号能装无符号但是必须大范围装小范围；**
3. 浮点数和整型互相转换：**浮点数能隐式转换任何整数类型**，原理也是大范围装小范围，float虽然是4个字节，但是由于使用了科学计数法因此实际上范围很大；
   ```csharp
   ulong ul = 50;
   long l = -50;
   float f = 1.0f;
   f = ul; // 可以
   f = l; // 可以
   ```
   **整数不能隐式转换浮点数** 

### 显示转换

1. 括号强制转换：将高精度强制转换为低精度，可能会由于范围问题造成异常
   ```csharp
    sbyte sb = 1;
    int i = 0;
    sb = (sbyte)i;
   ```
2. Parse法：必须 **能够** 转换为对应类型
    ```csharp
    string str1 = "123";
    string str2 = "123.45";
    int i = 0;
    i = int.Parse(str1); // 成功
    i = int.Parse(str2); // 编译报错
   ```